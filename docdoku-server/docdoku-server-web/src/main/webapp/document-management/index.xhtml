<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
    <ui:composition template="/WEB-INF/templates/moduleTemplate.xhtml">
        <ui:define name="styles">
            <link rel="stylesheet/less" type="text/css" href="#{request.contextPath}/less/document-management/style.less"/>
            <link rel="stylesheet/less" type="text/css" href="#{request.contextPath}/less/document-management/attribute-edit.less"/>
        </ui:define>
        <ui:define name="title">
            <f:loadBundle var="i18nDM" basename="com.docdoku.server.localization.explorer_resource"/>
            #{i18nDM['title']}
        </ui:define>
        <ui:define name="scripts">
            <script type="text/javascript">   
                var APP_CONFIG = {
                        workspaceId: "${workspaceID}",
                        login: "${login}"
                };
                $(document).ready(function() {
                    require.config({
                            baseUrl: "${request.contextPath}/js/document-management",
                            paths: {
                                    "require": "../lib/require/1.0.8/require.min",
                                    "text": "../lib/require/1.0.8/text.min",
                                    "modules":"../modules",
                                    "common-objects":"../common-objects"
                            },
                            locale: "#{request.locale}"
                    });

                    require(["app"]);

                    require(["modules/user-popover-module/app",
                             "modules/notifications-module/app",
                             "modules/chat-module/app",
                             "modules/webrtc-module/app"]);
                });
            </script>
        </ui:define>
        <ui:define name="content">
            <div id="workspace"></div>
        </ui:define>
    </ui:composition>
</html>
